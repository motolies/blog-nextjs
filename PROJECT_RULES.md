# PROJECT_RULES.md
---

# 공통 규칙

- 사용자가 코드를 수정하면 수정한 내용을 반영하여 코드 제안 및 변경
- 특히 end-point 같은 부분은 사용자가 작성한 내용을 따라야 함

## 답변 힌트

- 답변 시: 코드 예시와 함께 설명 추가

## 구현 작업 원칙

- 비즈니스 로직 구현 작업은 반드시 테스트를 먼저 작성하고 구현하세요.
- SOLID 원칙을 사용해서 구현하세요.
- Clean Architecture를 사용해서 구현하세요.

## 코드 품질 원칙

- 단순성: 언제나 복작합 솔루션보다 가장 단순한 솔루션을 우선시 하세요.
- 중복 방지: 코드 중복을 피하고, 가능한 기존 기능을 재사용하세요(DRY 원칙).
- 가드레일: 테스트 외에는 개발이나 프로덕션 환경에서 모의 데이터를 사용하지 마세요.
- 효율성: 명확성을 희생하지 않으면서 토큰 사용을 최소화하도록 출력을 최적화하세요.

## 리팩토링

- 리팩토링이 필요한 경우 계획을 설명하고 허락을 받은 다음 진행하세요.
- 코드 구조를 개선하는 것이 목표이며, 기능 변경은 아닙니다.
- 리팩토링 후에는 모든 테스트가 통과하는지 확인하세요.

## 디버깅

- 디버깅 시에는 원인 및 해결책을 설명하고 허락을 받은 다음 진행하세요.
- 에러 해결이 중요한 것이 아니라 제대로 동작하는 것이 중요합니다.
- 원인이 불분명할 경우 분석을 위해 상세 로그를 추가하세요.

## 문서화

- 간단한 다이어그램은 mermaid를 사용하고, 복잡한 아키텍처 다이어그램은 별도의 svg 파일을 생성하고 그걸 문서에 포함시킵니다.

---

## 커스텀 규칙

- 코드 정렬/포맷팅은 자동화 도구로만 처리
- 수정이 필요한 부분 외에는 코드 변경 금지

## 답변 힌트

- 답변 시: 코드 예시와 함께 설명 추가


---


# AI 협업 워크플로우 규칙

## 📁 프로젝트 구조
```
/feature
├── t01/
│   └── task01.md          # 통합 작업 파일 (작업정의 + 계획 + 진행상황)
├── t02/
│   └── task02.md
└── ...
```

## 📝 task[번호].md 파일 구조
```markdown
# [작업 제목]

## 작업 정의
[여기에 원래 작업 내용 작성]

---

## Plan
[AI가 생성하는 계획 - 한 문단 요약]

## Tasks
- [ ] T1: [첫 번째 구체적 작업]
- [ ] T2: [두 번째 구체적 작업]
- [ ] T3: [세 번째 구체적 작업]
- [ ] T4: [최종 검증 및 정리]

---

## Progress

### 현재 상태
- [ ] T1: [작업명]
- [ ] T2: [작업명]
- [ ] T3: [작업명]
- [ ] T4: [작업명]

### 작업 로그
<!-- AI가 각 단계 완료 시마다 업데이트 -->

### 완료된 작업
<!-- 완료된 작업들의 상세 기록 -->


```

## 🚀 작업 시작 트리거
**정확한 트리거 문구만 인식:**
```
"feature/[폴더명] 폴더의 task[번호].md를 확인하여 작업을 시작하자"
```

## 📋 AI 응답 규칙

### 1. 트리거 감지 시
- **task[번호].md 파일의 "작업 정의" 섹션 확인**
- **다른 작업 절대 금지**
- **기존 파일의 `---` 이후 Plan, Tasks 섹션에 내용 추가:**

```markdown
---

## Plan
[작업 목표와 접근 방식을 한 문단으로 요약]

## Tasks
- [ ] T1: [첫 번째 구체적 작업]
- [ ] T2: [두 번째 구체적 작업]
- [ ] T3: [세 번째 구체적 작업]
- [ ] T4: [최종 검증 및 정리]

---

## Progress

### 현재 상태
- [ ] T1: [작업명]
- [ ] T2: [작업명]
- [ ] T3: [작업명]
- [ ] T4: [작업명]

### 작업 로그

### 완료된 작업

---

## 결과물

T1 작업을 진행해도 될까요?
```

### 2. 각 단계 실행 시
1. **승인 확인 후에만 실행**
2. **코드/파일 생성**
3. **동일 파일의 Progress 섹션 업데이트**
4. **다음 단계 승인 요청**

## 🔄 Progress 섹션 업데이트 형식
```markdown
### 현재 상태
- [x] T1: 작업명 ✅
- [🔄] T2: 작업명 (진행중)
- [ ] T3: 작업명
- [ ] T4: 작업명

### 작업 로그
**T1 완료** - 2025-01-XX 14:30
- 소요시간: 15분
- 특이사항: 없음

**T2 시작** - 2025-01-XX 14:45
- 현재 진행률: 30%

### 완료된 작업
#### T1: 프로젝트 구조 설정
- 완료일시: 2025-01-XX 14:30
- 상세내용: 기본 폴더 구조와 설정 파일 생성
```

## 🎯 상태 표시 규칙
- `[ ]` : 대기
- `[🔄]` : 진행중
- `[x]` : 완료
- `[⚠️]` : 이슈발생
- `[🔍]` : 검토필요

## 📁 파일 관리 규칙
- **단일 파일**: `task[번호].md`로 모든 정보 통합 관리
- **섹션 구분**: `---`로 각 섹션 명확히 분리
- **업데이트**: AI가 Progress 섹션만 수정, 기존 내용 보존

## 🚫 금지사항 (위반 시 즉시 중단!)
- ❌ 트리거 없이 임의 작업 시작 금지
- ❌ 승인 없이 다음 단계 진행 금지
- ❌ Progress 섹션 업데이트 누락 금지
- ❌ 기존 "작업 정의" 섹션 수정 금지
- ❌ 계획 없이 바로 구현 시작 금지
- ❌ Plan과 Tasks 섹션 생략 금지
- ❌ 여러 Task 동시 진행 금지
- ❌ 사용자 승인 없는 코드 작성 금지

## 🔥 강제 체크포인트
AI는 다음 상황에서 반드시 멈춰서 체크해야 함:
1. **작업 시작 시**: 트리거 문구 확인
2. **코드 작성 전**: Plan과 Tasks 작성 완료 및 승인 확인
3. **각 Task 시작 전**: 이전 Task 완료 및 Progress 업데이트 확인
4. **파일 수정 전**: 기존 "작업 정의" 섹션 보존 확인

## ✅ 필수사항
- 모든 정보는 하나의 task[번호].md 파일에서 관리
- 각 단계 완료 시 Progress 섹션 실시간 업데이트
- 섹션 구분자 `---` 유지
- 작업 완료 시 결과물 섹션에 최종 정리

## 🔧 Cursor IDE 최적화
- `@task01.md` 하나의 파일로 모든 컨텍스트 제공
- 파일 내 섹션 점프로 빠른 내비게이션
- 단일 파일 수정으로 버전 관리 간소화
- AI가 파일 내 모든 정보를 실시간으로 업데이트하여 최신 상태 유지
